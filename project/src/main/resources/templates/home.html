<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dessert Hub Community</title>
  <style>
    
    :root {
      --bg-color: #fffafa;
      --text-color: #333;
      --header-bg-color: #ffdde1;
      --cta-color: #ff6f91;
      --cta-hover-color: #ff3d66;
      --shadow-color: rgba(0, 0, 0, 0.1);
    }

    [data-theme="dark"] {
      --bg-color: #2e2e2e;
      --text-color: #fefefe;
      --header-bg-color: #444;
      --cta-color: #ff6f91;
      --cta-hover-color: #ff3d66;
      --shadow-color: rgba(0, 0, 0, 0.3);
    }

    body {
      font-family: 'Roboto', sans-serif;
      padding:0;
      margin: 0;
      background-color: var(--bg-color);
      color: var(--text-color);
      transition: background-color 0.3s ease, color 0.3s ease;
      cursor: url('../second/img/foo192.cur'), auto; /* 이미지 커서 */
    }

    header {
    position: sticky;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 35px;
      background: linear-gradient(135deg, #FFB6C1 0%, #FFA07A 100%);
      box-shadow: 0 2px 10px var(--shadow-color);
      position: sticky;
      top: 0;
      z-index: 1000;
      border-radius: 10px; /* 둥근 모서리 설정 */
      margin: 2px; /* 페이지 가장자리에 여백 추가 */
    }


    .logo {
      font-family: 'Caveat', cursive;
      font-size: 28px;
      font-weight: bold;
      color: var(--cta-color);
    }

    .auth-buttons {
      display: flex;
      gap: 15px;
    }

    .auth-buttons button {
      border: none;
      padding: 10px 20px;
      background-color: var(--cta-color);
      color: white;
      border-radius: 25px;
      font-weight: bold;
      font-size: 14px;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .auth-buttons button:hover {
      background-color: var(--cta-hover-color);
      transform: scale(1.1);
    }

    /* 사이드바 */
    nav {
    position:fixed;
    width: 84px;
    height: 750px;
    background: linear-gradient(135deg, #FFB6C1 0%, #FFA07A 100%);
    z-index: 9999; /* 가장 위에 배치 */
    transition: width 0.4s ease-in-out;
    padding: 10px 0;
    overflow: hidden;
    box-shadow: 4px 0 10px rgba(0, 0, 0, 0.1);
    border-top-right-radius: 10px; /* 상단 오른쪽 모서리 둥글게 */
    border-bottom-right-radius: 10px; /* 하단 오른쪽 모서리 둥글게 */
}

    nav:hover {
        width: 230px !important;
    }

    nav h2 {
        margin: 20px 0 40px 0;
        font-size: 20px;
        text-align: center;
        color: #fff;
        font-weight: bold;
        letter-spacing: 1px;
        white-space: nowrap;
        transition: all 0.3s ease;
    } 

    /* 메뉴 아이템 */
    .nav-links {
        display: flex;
        flex-direction: column; /* 요소 세로 정렬 */
        padding: 0;
        margin: 0;
    }

    .nav-links a {
        text-decoration: none;
        display: flex;
        align-items: center;
        padding: 15px 20px;
        font-size: 16px;
        color: #333;
        width: 100%;
        border-radius: 10px;
        transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .nav-links a:hover, .nav-links a.active {
        background-color: #FF6B81;
        color: white;
        font-weight: bold;
        transform: scale(1.05);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }

    .nav-links a i {
        font-size: 20px;
        color: #FF6B81;
        width: 24px;
        text-align: center;
        margin-right: 10px;
        transition: all 0.3s ease;
    }

    .nav-links a:hover i {
        color: white;
    }

    .nav-links a span {
        opacity: 0;
        transition: opacity 0.3s, margin-left 0.3s;
        margin-left: 0;
        white-space: nowrap;
    }

    nav:hover .nav-links a span {
        opacity: 1;
        margin-left: 10px;
    }

    /* Responsive styles */
    @media (max-width: 768px) {
        nav {
            width: 60px !important;
        }

        nav:hover {
            width: 200px !important;
        }

        .nav-links a {
            font-size: 14px;
            padding: 10px 15px;
        }

        .nav-links a i {
            font-size: 18px;
        }
    }

    /* Main content shift */
    main {
        margin-left: 84px;
        transition: margin-left 0.4s ease-in-out;
    }

    nav:hover ~ main {
        margin-left: 230px !important;
    }


    /* Main content shift */
    main {
        margin-left: 84px;
        transition: margin-left 0.4s ease-in-out;
    }

    nav:hover ~ main {
        margin-left: 230px !important;
    }

    /* Main content shift */
    main {
        margin-left: 84px;
        transition: margin-left 0.4s ease-in-out;
    }

    nav:hover ~ main {
        margin-left: 230px !important;
    }

    /* Main content shift */
    main {
        margin-left: 84px;
        transition: margin-left 0.4s ease-in-out;
    }

    nav:hover ~ main {
        margin-left: 230px !important;
    }

    .content {
      flex: 1;
      padding: 40px;
      max-width: 900px; /* Wider layout for improved design */
      margin: auto;
    }

    .slider {
      position: relative;
      margin: 0 auto 40px auto;
      overflow: hidden;
      border-radius: 20px;
      box-shadow: 0 4px 20px var(--shadow-color);
      animation: fadeIn 1s ease-in;
    }

    .slider img {
      width: 100%;
      display: none;
    }

    .slider img.active {
      display: block;
    }

    .featured {
      margin-bottom: 40px;
    }

    .featured h2 {
      font-size: 32px;
      color: var(--cta-color);
      text-align: center;
      margin-bottom: 20px;
      text-shadow: 1px 1px 2px var(--shadow-color);
    }

    .featured .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* Larger cards for better visuals */
      gap: 30px;
    }

    .featured .card {
      background-color: white;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 4px 10px var(--shadow-color);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      animation: fadeIn 1s ease-in-out;
    }

    .featured .card:hover {
      transform: translateY(-10px);
      box-shadow: 0 8px 20px var(--shadow-color);
    }

    .featured img {
      width: 100%;
      border-radius: 10px;
      margin-bottom: 15px;
      animation: fadeIn 1.5s ease-in-out;
    }

    footer {
        position: sticky;
        text-align: center;
        padding: 15px;
        background:linear-gradient(135deg, #FFB6C1 0%, #FFA07A 100%);
        box-shadow: 0 -4px 10px var(--shadow-color);
        border-radius: 10px; /* 둥근 모서리 적용 */
        margin-top: 10px;
        position: relative; /* nav와 겹치지 않도록 조정 */
        z-index: 100000; 
        
    }

footer p {
      font-size: 14px;
      color: #fff;
    }

    /* Fade-in animation for better visuals */
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

  .no-underline {
    text-decoration: none; /* 밑줄 제거 */
    color: inherit;        /* 부모 요소의 글씨 색상 사용 */
  }

  .no-underline:hover {
    text-decoration: underline; /* 호버 시 밑줄 추가 (선택 사항) */
  }

  </style>
</head>
<body>
  <!-- 로그인 성공 메시지 -->
  <script th:if="${message == 'Login success'}"th:inline="javascript">
    alert('로그인에 성공했습니다!')
  </script>
  <!-- 회원 가입 성공 메시지 -->
  <script th:if="${message == 'Register success'}"th:inline="javascript">
    alert('회원가입에 성공했습니다!')
  </script>

  <header>
    <div class="logo">
      <a href="/home" class="no-underline">Dessert Hub</a>
    </div> 
    <div class="auth-buttons" th:unless="${message}">
      <a href="/user/login">
        <button>Login</button>
      </a>
    </div>
  </header>  

<nav>
  <div class="nav-links">
    <a href="/recommend"><span class="nav-icon">🍩</span> <span>추천 디저트</span></a>
    <a href="/gallery"><span class="nav-icon">🍰</span> <span>갤러리</span></a>
    <a href="/maps"><span class="nav-icon">🗺️</span> <span>지도</span></a>
    <a href="/board"><span class="nav-icon">📋</span> <span>게시판</span></a>
    <a href="/about"><span class="nav-icon">ℹ️</span> <span>About</span></a>
  </div>
</nav>

<main>
  <div class="content">
    <div class="slider" id="slider">
      <img src="img/pastel-cinnamoroll-desserts-sweets.png" class="active" alt="Dessert 1">
      <img src="img/pokemon-cafe-tokyo-pikachu-sweets-menu.png" alt="Dessert 2">
      <img src="https://via.placeholder.com/800x400?text=Dessert+3" alt="Dessert 3">
    </div>

    <section class="featured">
      <h2>추천 디저트</h2>
      <div class="card-grid">
        <div class="card">
          <img src="img/valentinesdayminiberrytrifles4.png" alt="Dessert">
          <p>부드럽고 상큼한 스트로베리 케이크 (⁎⁍̴̛͂▿⁍̴̛͂⁎)*✲ﾟ*｡⋆♡ོ </p>
        </div>
        <div class="card">
          <img src="img/espresso-works-blog-christmas-desserts-ideas-and-recipes_1081x.jpg" alt="Dessert">
          <p>크리마스에 가족과 함께 즐기는 쿠키 ദ്ദി(☆⸝⸝ʚ̴̶̷̆ ᴗ ʚ̴̶̷̆⸝⸝) </p>
        </div>
        <div class="card">
          <img src="img/flourless-chocolate-cake-SQUARE.jpg" alt="Dessert">
          <p>
            달콤한 초코 케이크<br>
            (っ˘ڡ˘ς)🍴 🍰 🍴(*^∀^* )
        </p>
        
        </div>
      </div>
    </section>
  </div>
</main>

<footer>
  <p>© Dessert Hub, All rights reserved.</p>
</footer>

<script>
  const images = document.querySelectorAll('.slider img');
  let currentIndex = 0;

  setInterval(() => {
    images[currentIndex].classList.remove('active');
    currentIndex = (currentIndex + 1) % images.length;
    images[currentIndex].classList.add('active');
  }, 3000);

  const themeToggle = document.getElementById('theme-toggle');
  themeToggle.addEventListener('click', () => {
    document.body.dataset.theme = document.body.dataset.theme === 'dark' ? '' : 'dark';
  });
</script>

</body>
</html>